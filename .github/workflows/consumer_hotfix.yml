name: Create Hotfix

permissions:
  id-token: write
  contents: write
  actions: read

on:
  workflow_dispatch:
    inputs:
      app:
        description: 'Which microservice needs hotfix?'
        required: true
        type: choice
        options:
          - backend
          - frontend
          - user-service
          - chat-service
          - auth-service
      developer_name:
        description: 'Your name (for audit trail)'
        required: true
        type: string
        default: 'DevOps Team'

jobs:
  create-hotfix:
    name: Create Hotfix Branch
    uses: ./.github/workflows/reusable_hotfix.yml
    with:
      name: ${{ inputs.developer_name }}
      app: ${{ inputs.app }}