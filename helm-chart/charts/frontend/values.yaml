# =========================================
# Frontend Subchart - Default Values
# =========================================

enabled: true
replicaCount: 2

image:
  repository: tomernos/connecthub-frontend
  tag: "83e1341"
  pullPolicy: Always

service:
  type: ClusterIP
  port: 80
  targetPort: 80

env:
  API_URL: http://chatapp-backend:5000
  BACKEND_URL: http://chatapp-backend:5000  # For nginx proxy_pass
  NODE_ENV: production
  # OpenTelemetry configuration for distributed tracing (frontend uses HTTP endpoint)
  REACT_APP_OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector-opentelemetry-collector.monitoring.svc.cluster.local:4318"
  REACT_APP_OTEL_SERVICE_NAME: "chatapp-frontend"
  REACT_APP_OTEL_SERVICE_NAMESPACE: "chatapp-prod"  # Overridden per environment in values-{env}.yaml

resources:
  requests:
    memory: 64Mi
    cpu: 50m
  limits:
    memory: 128Mi
    cpu: 100m

livenessProbe:
  enabled: false
readinessProbe:
  enabled: false

nodeSelector: {}
tolerations: []
affinity: {}
